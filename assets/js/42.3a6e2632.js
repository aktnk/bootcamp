(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{445:function(e,t,n){"use strict";n.r(t);var s=n(10),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("header-table"),e._v(" "),t("h2",{attrs:{id:"おさらい"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#おさらい"}},[e._v("#")]),e._v(" おさらい")]),e._v(" "),t("p",[e._v("それでは実際にDockerを使って仮想環境プラットフォームを作る前にまずは環境の確認をしましょう。皆さんは既に下準備でDocker（及びコマンド）のインストールが終わっているはずです。")]),e._v(" "),t("p",[e._v("下記コマンドを入力し、コマンドが実行できるか確認してください。")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" version\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"dockerコンテナで仮想環境プラットフォームを構築する"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerコンテナで仮想環境プラットフォームを構築する"}},[e._v("#")]),e._v(" Dockerコンテナで仮想環境プラットフォームを構築する")]),e._v(" "),t("p",[e._v("本章では、"),t("strong",[e._v("Dockerイメージ")]),e._v("を取得し、実際に"),t("strong",[e._v("Dockerコンテナ")]),e._v("を使って仮想環境プラットフォームを構築してみます。")]),e._v(" "),t("p",[e._v("Dockerコンテナを使って仮想環境プラットフォームを構築するためには、以下の作業が必要になります。")]),e._v(" "),t("ul",[t("li",[e._v("Dockerコンテナの元となるDockerイメージの取得")]),e._v(" "),t("li",[e._v("仮想環境プラットフォームを構成するDockerコンテナの作成")]),e._v(" "),t("li",[e._v("作成されたDockerコンテナの起動")])]),e._v(" "),t("h2",{attrs:{id:"docker-イメージの取得"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-イメージの取得"}},[e._v("#")]),e._v(" Docker イメージの取得")]),e._v(" "),t("p",[e._v("Dockerコンテナを使って仮想環境プラットフォームを作成するためには、Dockerイメージが必要となります。")]),e._v(" "),t("p",[e._v("従ってまずは、"),t("code",[e._v("docker pull")]),e._v(" コマンドを用いて、コンテナイメージを取得してみましょう。")]),e._v(" "),t("p",[t("code",[e._v("docker pull")]),e._v("コマンドは、Docker イメージを取得する為のコマンドです。\ndocker pullについて詳細は以下を参照してください")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/pull/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.docker.com/engine/reference/commandline/pull/"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("それでは、実際に getting-started の Docker イメージを取得してみましょう。以下のコマンドを実行してください。")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" pull docker/getting-started\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("実行すると以下のような画面が表示されるかと思います。")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("Using default tag: latest\nlatest: Pulling from docker/getting-started\ndf9b9388f04a: Pull complete\n5867cba5fcbd: Pull complete\n4b639e65cb3b: Pull complete\n061ed9e2b976: Pull complete\nbc19f3e8eeb1: Pull complete\n4071be97c256: Pull complete\n79b586f1a54b: Pull complete\n0c9732f525d6: Pull complete\nDigest: sha256:b558be874169471bd4e65bd6eac8c303b271a7ee8553ba47481b73b2bf597aae\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" docker/getting-started:latest\ndocker.io/docker/getting-started:latest\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br")])]),t("h2",{attrs:{id:"docker-コンテナの作成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-コンテナの作成"}},[e._v("#")]),e._v(" Docker コンテナの作成")]),e._v(" "),t("p",[e._v("では、取得したイメージを使って"),t("strong",[e._v("Dockerコンテナ")]),e._v("を作成してみましょう。")]),e._v(" "),t("p",[t("code",[e._v("docker create")]),e._v(" コマンドは、先ほど取得したDocker イメージをコンテナとして作成するコマンドです。\ndocker create コマンドの詳細は以下を参照してください")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/create/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.docker.com/engine/reference/commandline/create/"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("それでは実際に getting-started の Docker コンテナを作成してみましょう。以下のコマンドを実行してください。")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v(" $ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" create --name getting-started docker/getting-started\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"docker-コンテナの起動"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-コンテナの起動"}},[e._v("#")]),e._v(" Docker コンテナの起動")]),e._v(" "),t("p",[e._v("それではいよいよ作成したDockerコンテナを起動してみます。")]),e._v(" "),t("p",[e._v("コンテナの開始には"),t("code",[e._v("docker start")]),e._v("コマンドを使用します。\ndocker startコマンドの詳細は以下を参照してください。")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/start/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.docker.com/engine/reference/commandline/start/"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("それでは以下のコマンドを実行してください。")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" start -a getting-started\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("上記コマンドを実行すると以下のような画面が表示されると思います。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('$ docker start -a getting-started\n/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\n/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\n10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\n10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\n/docker-entrypoint.sh: Configuration complete; ready for start up\n2022/06/17 04:10:18 [notice] 1#1: using the "epoll" event method\n2022/06/17 04:10:18 [notice] 1#1: nginx/1.21.6\n2022/06/17 04:10:18 [notice] 1#1: built by gcc 10.3.1 20211027 (Alpine 10.3.1_git20211027)\n2022/06/17 04:10:18 [notice] 1#1: OS: Linux 4.18.0-348.2.1.el8_5.x86_64\n2022/06/17 04:10:18 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576\n2022/06/17 04:10:18 [notice] 1#1: start worker processes\n2022/06/17 04:10:18 [notice] 1#1: start worker process 32\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br")])]),t("p",[e._v("ここまでできたらDockerコンテナによる仮想環境プラットフォームの構築は完了です。\nとりあえずここでは "),t("strong",[e._v("Ctrl+C")]),e._v(" で停止してください。")]),e._v(" "),t("h2",{attrs:{id:"まとめ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#まとめ"}},[e._v("#")]),e._v(" まとめ")]),e._v(" "),t("p",[e._v("さて、ここまでやってみて作業が面倒だと感じたことは無いでしょうか。\nまた、事前準備ではdockerの動作確認で"),t("code",[e._v("docker run")]),e._v("を実行したのでは無いかと思います。\n実は"),t("code",[e._v("docker run")]),e._v("はこれらのコマンドを包含した物となっています。")]),e._v(" "),t("p",[e._v("従って、ここまでの作業であれば通常は"),t("code",[e._v("docker run docker/getting-started")]),e._v("とする事になります。")]),e._v(" "),t("p",[e._v("しかしながら、場合によってはイメージのみを予め取得しておきたい、\n取得済みのイメージを起動したい、など順を踏んで実行する事もあるためそれぞれの動作について理解して頂ければと思います。")]),e._v(" "),t("credit-footer")],1)}),[],!1,null,null,null);t.default=r.exports}}]);