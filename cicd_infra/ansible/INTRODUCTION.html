<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. Ansible とは | IIJ Bootcamp</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="IIJ で実施している新人向けのハンズオン資料集です。">
    
    <link rel="preload" href="/bootcamp/assets/css/0.styles.095a7d7e.css" as="style"><link rel="preload" href="/bootcamp/assets/js/app.f493d58f.js" as="script"><link rel="preload" href="/bootcamp/assets/js/2.faacc272.js" as="script"><link rel="preload" href="/bootcamp/assets/js/35.e8fb5a6c.js" as="script"><link rel="preload" href="/bootcamp/assets/js/13.c36dceeb.js" as="script"><link rel="prefetch" href="/bootcamp/assets/js/10.30b1f461.js"><link rel="prefetch" href="/bootcamp/assets/js/11.efbfb6eb.js"><link rel="prefetch" href="/bootcamp/assets/js/12.5c11c9a3.js"><link rel="prefetch" href="/bootcamp/assets/js/14.58971041.js"><link rel="prefetch" href="/bootcamp/assets/js/15.6cc15209.js"><link rel="prefetch" href="/bootcamp/assets/js/16.28d246bf.js"><link rel="prefetch" href="/bootcamp/assets/js/17.f55869aa.js"><link rel="prefetch" href="/bootcamp/assets/js/18.a3bd1bc5.js"><link rel="prefetch" href="/bootcamp/assets/js/19.e9155a35.js"><link rel="prefetch" href="/bootcamp/assets/js/20.e165743b.js"><link rel="prefetch" href="/bootcamp/assets/js/21.6ef03cf0.js"><link rel="prefetch" href="/bootcamp/assets/js/22.20a9c4c1.js"><link rel="prefetch" href="/bootcamp/assets/js/23.4e82ac36.js"><link rel="prefetch" href="/bootcamp/assets/js/24.620eaf66.js"><link rel="prefetch" href="/bootcamp/assets/js/25.a096e705.js"><link rel="prefetch" href="/bootcamp/assets/js/26.98a2b961.js"><link rel="prefetch" href="/bootcamp/assets/js/27.ad7f20df.js"><link rel="prefetch" href="/bootcamp/assets/js/28.b65ba8b2.js"><link rel="prefetch" href="/bootcamp/assets/js/29.97dcc9cd.js"><link rel="prefetch" href="/bootcamp/assets/js/3.e29c363c.js"><link rel="prefetch" href="/bootcamp/assets/js/30.1f3b275f.js"><link rel="prefetch" href="/bootcamp/assets/js/31.7d645bc2.js"><link rel="prefetch" href="/bootcamp/assets/js/32.7212207e.js"><link rel="prefetch" href="/bootcamp/assets/js/33.14be957d.js"><link rel="prefetch" href="/bootcamp/assets/js/34.38bb9de3.js"><link rel="prefetch" href="/bootcamp/assets/js/36.21fbaf09.js"><link rel="prefetch" href="/bootcamp/assets/js/37.dd712a7f.js"><link rel="prefetch" href="/bootcamp/assets/js/38.384e58b9.js"><link rel="prefetch" href="/bootcamp/assets/js/39.fc350ddc.js"><link rel="prefetch" href="/bootcamp/assets/js/4.9530a1b4.js"><link rel="prefetch" href="/bootcamp/assets/js/40.92054734.js"><link rel="prefetch" href="/bootcamp/assets/js/41.bc1d4761.js"><link rel="prefetch" href="/bootcamp/assets/js/42.476343f8.js"><link rel="prefetch" href="/bootcamp/assets/js/43.2f81d708.js"><link rel="prefetch" href="/bootcamp/assets/js/44.ba189b47.js"><link rel="prefetch" href="/bootcamp/assets/js/45.b17cd5f2.js"><link rel="prefetch" href="/bootcamp/assets/js/46.d8eacb93.js"><link rel="prefetch" href="/bootcamp/assets/js/47.b8dd01c7.js"><link rel="prefetch" href="/bootcamp/assets/js/48.51a92fcd.js"><link rel="prefetch" href="/bootcamp/assets/js/49.2a642805.js"><link rel="prefetch" href="/bootcamp/assets/js/5.e0f49538.js"><link rel="prefetch" href="/bootcamp/assets/js/50.5ed0952c.js"><link rel="prefetch" href="/bootcamp/assets/js/51.9ae72886.js"><link rel="prefetch" href="/bootcamp/assets/js/52.048ab376.js"><link rel="prefetch" href="/bootcamp/assets/js/53.9a76f598.js"><link rel="prefetch" href="/bootcamp/assets/js/54.7242db1a.js"><link rel="prefetch" href="/bootcamp/assets/js/55.6db8fafa.js"><link rel="prefetch" href="/bootcamp/assets/js/56.a1ab7292.js"><link rel="prefetch" href="/bootcamp/assets/js/57.94744a28.js"><link rel="prefetch" href="/bootcamp/assets/js/6.f3a8e697.js"><link rel="prefetch" href="/bootcamp/assets/js/7.f33abdc4.js"><link rel="prefetch" href="/bootcamp/assets/js/8.739a4a70.js"><link rel="prefetch" href="/bootcamp/assets/js/9.ccb16338.js">
    <link rel="stylesheet" href="/bootcamp/assets/css/0.styles.095a7d7e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bootcamp/" class="home-link router-link-active"><!----> <span class="site-name">IIJ Bootcamp</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>1. Ansible とは</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bootcamp/cicd_infra/ansible/INTRODUCTION.html#_1-ansible-とは" class="sidebar-link">1. Ansible とは</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/cicd_infra/ansible/INTRODUCTION.html#ansible-の特徴" class="sidebar-link">Ansible の特徴</a></li><li class="sidebar-sub-header"><a href="/bootcamp/cicd_infra/ansible/INTRODUCTION.html#ansible-の基本用語" class="sidebar-link">Ansible の基本用語</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-ansible-とは"><a href="#_1-ansible-とは" class="header-anchor">#</a> 1. Ansible とは</h2> <p>Ansible とは、IT 自動化ツールです。
Ansible を利用するとシステムの構成、ソフトウェアの展開、より高度な IT タスク (継続的なデプロイメントやダウンタイムなしのローリング更新など) のオーケストレーションが可能になります。</p> <p>Ansible docs: <a href="https://docs.ansible.com/ansible/latest/index.html" target="_blank" rel="noopener noreferrer">https://docs.ansible.com/ansible/latest/index.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Ansible is an IT automation tool. It can configure systems, deploy software, and orchestrate more advanced IT tasks such as continuous deployments or zero downtime rolling updates.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>github: <a href="https://github.com/ansible/ansible" target="_blank" rel="noopener noreferrer">https://github.com/ansible/ansible<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Ansible is a radically simple IT automation system. It handles configuration management, application deployment, cloud provisioning, ad-hoc task execution, network automation, and multi-node orchestration. Ansible makes complex changes like zero-downtime rolling updates with load balancers easy. More information on the Ansible website.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="ansible-の特徴"><a href="#ansible-の特徴" class="header-anchor">#</a> Ansible の特徴</h3> <ul><li>エージェントレスである
<ul><li>Ansible は対象の管理は基本的に<a href="https://www.openssh.com/" target="_blank" rel="noopener noreferrer">OpenSSH<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>を利用する為、専用のクライアント/デーモンを必要としません</li></ul></li> <li>状態を管理しない
<ul><li>Ansible には対象となるマシン情報（Inventory) を持ちますが、そのマシンの状態を保有することはありません。Inventory ファイルは ansible playbooks などで利用するためのものであり、状態を管理・監視することはありません</li></ul></li> <li>冪等性を持つ
<ul><li>Ansible は playbooks を基本的に何回実行しても結果は同じになります。例えば httpd のインストールタスク等はインストール済みであれば複数回実行しても 2 回目以降は実行済みとして処理され、二度実行されることがありません。</li></ul></li></ul> <p>Ansible の記述には基本的に<a href="https://yaml.org/" target="_blank" rel="noopener noreferrer">YAML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>と呼ばれる記述（解読）言語が用いられておりユーザにも読み書きしやすいようになっています。</p> <p>2.10 以降、Ansible のパッケージ方針には大幅な変更がなされ、Ansible-core, Ansible-collection といった物が登場しており、パッケージングについては未だ流動的ですが Ansible は基本的にモジュール・プラグインといった形で機能追加ができるようになっている為、必要に応じて自らモジュールを作成することも可能です。</p> <ul><li><a href="https://docs.ansible.com/ansible/latest/modules/list_of_all_modules.html" target="_blank" rel="noopener noreferrer">モジュール一覧<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.ansible.com/ansible/latest/plugins/plugins.html" target="_blank" rel="noopener noreferrer">プラグイン一覧<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="ansible-の基本用語"><a href="#ansible-の基本用語" class="header-anchor">#</a> Ansible の基本用語</h3> <p>本講義に限らず、Ansible に登場する基本的な用語の解説。
基本的には以下の引用ですが、一部追加・割愛しています。</p> <p><a href="https://www.redhat.com/ja/explore/ansible/trailmap/yaml/step3" target="_blank" rel="noopener noreferrer">Ansible Trail Map<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="target-node-host"><a href="#target-node-host" class="header-anchor">#</a> Target Node / Host</h4> <p>Ansible から操作する対象で、ホストとも表現されます。Ansible では、Target Node に特別なエージェントなどのインストールは必要ありません。Ansible は、Linux サーバやネットワーク機器、クラウド等の様々なものを操作対象にできます。</p> <h4 id="inventory"><a href="#inventory" class="header-anchor">#</a> Inventory</h4> <p>操作・管理対象とする Target Node を纏めたリストを指します。Inventory 内において Target Node は複数のグループに分類して登録することができます。この Inventory は、Ansible による処理を実施する場合に必要です。</p> <h4 id="roles"><a href="#roles" class="header-anchor">#</a> Roles</h4> <p>既知のファイル構造に基づいて特定の変数、タスク、およびハンドラーを自動的に読み込むようひとまとめにしたものです。 ロールでコンテンツをグループ化すると、他のユーザーとのロールの共有が容易になります。</p> <h4 id="task"><a href="#task" class="header-anchor">#</a> Task</h4> <p>Ansible における、処理（ステップ）の最小単位です。実行対象に対してあってほしい状態や実施する処理を記述します。</p> <h4 id="module"><a href="#module" class="header-anchor">#</a> Module</h4> <p>Ansible において対象に対して何かを実施する際に用いる最小の部品（プログラム）で、Task ごとに一つの Module を指定して利用します。</p> <h4 id="play"><a href="#play" class="header-anchor">#</a> Play</h4> <p>インベントリ内の対象範囲と実施する 1 つ以上の Task を記載します。</p> <h4 id="playbook"><a href="#playbook" class="header-anchor">#</a> Playbook</h4> <p>Ansible において、自動化の手順書にあたります。</p> <p>Playbook の中には、1 つ以上の Play が含まれます。このトレイルマップでは Playbook には 1 つの Play のみの構成となっています。</p> <div><hr> <span>CC BY-SA Licensed | Copyright (c) 2021, Internet Initiative Japan Inc.</span></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/iij/bootcamp/edit/master/src/cicd_infra/ansible/INTRODUCTION.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/26/2022, 1:12:09 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/bootcamp/assets/js/app.f493d58f.js" defer></script><script src="/bootcamp/assets/js/2.faacc272.js" defer></script><script src="/bootcamp/assets/js/35.e8fb5a6c.js" defer></script><script src="/bootcamp/assets/js/13.c36dceeb.js" defer></script>
  </body>
</html>
